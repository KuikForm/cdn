"use strict";let kuikformSnackBarWrapper,kuikformSnackBar,kuikformStatusText,isInitialized=!1,snackBarActive=!1;const serverEndpoint="https://kuikform.com/api/v1/submit/";function initPlugin(){isInitialized||(addElements(),kuikformSnackBarWrapper=document.querySelector(".kuikform-snackbar-wrapper"),kuikformSnackBar=document.querySelector(".kuikform-snackbar"),kuikformStatusText=document.querySelector("#kuikform-status-text"),document.querySelectorAll("[kuikform-id]").forEach(function(t){t.addEventListener("submit",async function(e){if(e.preventDefault(),console.log(t.getAttribute("kuikform-id")),t.checkValidity()){showSnackbarWithPromise(2,"Processing...");let e=await serializeArray(t);var n={id:t.getAttribute("kuikform-id"),data:e};showSnackbarWithPromise(2,"Submitting...");var r=await fetch(serverEndpoint,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});console.log(r);var i=await r.json();i.success?toggleSnackbar(1,i.message):toggleSnackbar(0,i.error)}},!1)}))}function addElements(){document.body.innerHTML+='\n\t<div class="kuikform-snackbar-wrapper">\n\t\t<div class="kuikform-snackbar kuikform-failed">\n\t\t\t<div></div>\n\t\t\t<p id="kuikform-status-text">kuikform Loading !</p>\n\t\t</div>\n\t</div>',document.head.innerHTML+="\n\t<style>\n\t\t.kuikform-snackbar-wrapper{\n\t\t\tdisplay: none;\n\t\t\tborder-radius: 8px;\n\t\t\tbackground-color: rgba(0, 0, 0, 1);\n\t\t\tpadding: 15px;\n\t\t\tfont-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n\t\t\tcolor: white;\n\t\t\t-moz-user-select: none;\n\t\t\t-ms-user-select: none;\n\t\t\tuser-select: none;\n\t\t\tposition: fixed;\n\t\t\ttop: 110vh; left: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\topacity: 0;\n\t\t\ttransition: top .5s ease-in-out, opacity .7s ease-in-out;\n\t\t}\n\t\t\n\t\t.kuikform-snackbar{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-evenly;\n\t\t\talign-items: center;\n\t\t}\n\t\t\n\t\t.kuikform-snackbar > div{\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tmargin-right: 10px;\n\t\t\tbackground-size : contain;\n\t\t\tbackground-repeat: no-repeat;\n\t\t}\n\n\t\t.kuikform-loading > div {\n\t\t\tborder: .2em solid transparent;\n\t\t\tborder-top-color: currentcolor;\n\t\t\tborder-radius: 50%;\n\t\t\tanimation: 1s kuikform-loading-loader linear infinite;\n\t\t\tposition: relative;\n\t\t\t&:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: inherit;\n\t\t\t\theight: inherit;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -.2em;\n\t\t\t\t;\n\t\t\t\tleft: -.2em;\n\t\t\t\t;\n\t\t\t\tborder: .2em solid currentcolor;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\topacity: .5;\n\t\t\t}\n\t\t}\n\t\t\n\t\t@keyframes kuikform-loading-loader {\n\t\t\t0% {\n\t\t\t\ttransform: rotate(0deg);\n\t\t\t}\n\t\t\t100% {\n\t\t\t\ttransform: rotate(360deg);\n\t\t\t}\n\t\t}\n\t\t  \n\n\t\t.kuikform-success > div{\n\t\t\tbackground-image : url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5QkZER8JAz4liAAACFVJREFUaN7N22mMnVUZB/Df+85A0QFqK0JNikJtIhCoQFyqYkhUlpJoEIwiyxc3ENwg4IZBILghBmSRTVRIOyAKqB9QCpoQaCkxBijIkrAErKSWMmOllSnt3OuH59w77733vet0Sv9J0zt3znve5/+cZzvPOZPZRshGM8ixB/bHITgICzEPszErDd+MDViLp/EoHsITWI9K9cTqtpFrWg8vy6hgyFwsxhJ8APsmQnmPU1US4eewAn/GKluNGaJ60uBkByKYjWZUkXkbPolPYxF2mY7CCpjAY7gev8KWQVd0uC9iy7KaSt4iczK+gHfqfaV6xS7YCxtVTU7Hznp+NPnYMD6Kc/F+DHV5bBKvCPPbKHyP8MVdhRnvVjLPgzjLLCttZjr+2JVgIgZzcCa+nD6XoYoxrMYqPIxnReDYhC1p3E4YEQFpXxGQFuNA3Idz8Kzq9PyvK8GCSe6Ln+BY5au2VfjMbbgTT6naJOuu/Ww0i3UeMpLe8yLGTFI9pX9yhQXpTLAw8EBcjcNKhlXFal2DO1T8Wz49k+oo/NKs5u1z8DHMTzIUkWMNbsWrpUEmW9ZA7pd4T8mwMVyHq9KEqifPDDEaFD4Pl+AE5dY0jq+oeFVeEkULZrkAP29DbjW+jbswOVMrVpdpaZ3c3rgCH1dufZvwXdxcs6TWFYzH5uBifKhkkuX4uqg6Zswc6+JMKXwf4SpHtxn6WpL5eoVKqIFgMoMhES0/UTLJH0QUXfM6kLsWR7YZWsUv8FNNRUFWMtkSLNOaCpbjc1izLcJ3V3I3ZpFMwiyvTXK1wx34ItY3K31qBYPcnsK3msmtFqu6fcjdlNUkm4fLu5B7AGdjvRKxchoi1Mn4YNOYMXwHj28PcqiRm2Mq97bDMzhLh6KgWEO+XZhgc115Hf7E9iGXlP1GnI8TOwwdx7dExdRWtryQ844X+7giHhapYpvtz3ogN4yv4TTti/gtImLeTudglyffezM+pTG3TArn/ueMM6uRi7d/RqzMzh2GL8OVelB8Lcgsxruafrcav++moW1CrmZFVYfj+9i9w/CV+B42lslV6CzsLDOROwIcpXWzertoKcw8ueD3DhFU9u4wfA2+iRfKImYhWB4myrV82N32FG2GItarBZaZ9r2QaXdcpLwsrGECF8ndr9IaVArk9kmK2knmxmERWBY0TbYaT84ss3rrI5c5Q7Q+OuEm3KjSUem7JUW9V0TZ/YfFZnN208AHsUmPi9e0B8tUQFXWPnzXn8kcJXJZp/bJg8I3JzrMNYSviv6QxOmQYdHaK4bjSZEeugk3P024e3p+qP4vYvMq3JyNZi83J+Hs6gZzulDs7NthPc6T/K5DLj5UpJeaonIcNCz6lkW8ItoM5eQuqQt3eNJ8u77MCaIKOR8rstGsWjetsJdZImC8uwO5Ci5XdU8nayigObUszEW9V8SGpLVuWKOznw7hI7hV5jTMykazojkfh1O6vGM5rpL1VGi8lGQvYl6u1f82io1jKapn1190rwgMdwizboe3im3Mhaby20JR1I90eO5fuABjPcaCTcL6ipidm2qn17DZVPernOSUNp8U9evPtAkACW8Q5vwj4W9nCt9vh0lcZmHnOrMJW0y1JWuY1Vfjt4xkNpqNiz7pOtEu2LXNI8P4vGgUH9pl+uW4wdPTz8N5GWu1rWbvRCeEGZ6r1UyK2Akfxps6jFmLH2C81zRVmLvFGnOtjrmrzr7RjuRWsfO4AP/rS7TCVLhW1Qr63p6NaLWeDbnWenO2znmpG8krcGn63C9W4RqZ6gCmuYfWgLk2F+dzReymtXTrh+Rr+LHY0vSDjWKPt7ZP06xhQZK9iKdzcfhYKXw5hINpaAD3wRLhh+eJrU2v+K0BOgcFGQ/WWHRU8GguTlab/fB9GBnk2Kog3Auil9PLlut5kWo29716IeNIkrmIDXgoFw3c5tJsEfbrn14iWfOfintxmc6FQBXXGfJIk4L6wX5J5iKexRO5I6zTakp7SK265tOavkhGCX89/tJh6N/xa5P957yCbEu0BsaVjrAudzfijKG5EjlOa53aJ0tE2/Hi9H8zXhNR98VpvGVekrWICdzl7qlt0irCRApYJPUkB17Fkxrq1ltKhvzVgH2fgkzHajXPRxInedLyy+I8rfiWIZyqc4+kO8mp/HiNCDw1vCI6Y/8dMC1Isp2qMXpWE5eXVckLWr5NOjEq4GCcjnzQVaxj0qMYLXxzp+Sb/QaWQufs9CRjEU8kLqonVRt28s/jBo05kTjUiIAzSF6UVjF0vFT0Wf8jVnSi37kKMixJshVRSRyer32R1wVQF2BF00NzRfF7gGxwksHU48Ln/lh7Tz++V2gxHpBkmts0ZEXiUJ93agXj53X4oehIFbFI1JfzByVZPbFKpioK8ouxpR/fK5Cbn2RpDizjSfZ1xXnrBAt+sFxqizdNcGT6PkgO4pMVVDyp4h9lvc225EYbyF2p9SC0kr5f3sSltRhLgs8RCfr4kvdt3yPsKUXuL6qislPe28Stq/FmeVpPb+L34/iGuJTTjCNFTjsGQ9OOrt3JDaV33dKG3H1J1tINcql0BXvv7xrJtroCOaW0+ThDRMu5JUP/hs/isXY90x3qIlA2mq5n5vYSlyBOE8GkTM778SVxw6rtO3eMq1xxNXNENKSOEb5/oPJ2/qRINefguW7H6jvCZbwFohpZnFZrbge5xkW0vDR97q7AbgSbiG6v65Rl8zwgDmDuwdZe3aCvENhwIdaMXoitoYKnRMpaipf6vemxI19pXo3f4HeqXujFn7cZwfrDM3MpfaVoPq0yaUz+OlxKL52o/M8KFomz905/VvCMWK0Z+bOC/wO6ft21X+w54AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wOS0yNVQxNzozMTowOS0wNDowMDFtCbYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDktMjVUMTc6MzE6MDktMDQ6MDBAMLEKAAAAAElFTkSuQmCC\");\n\t\t}\n\n\t\t.kuikform-failed > div{\n\t\t\tbackground-image : url(\"data:image/png;base64,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\");\n\t\t}\n\t\t\n\t\t.kuikform-snackbar > p{\n\t\t\tpadding: 0; margin: 0;\n\t\t}\n\n\t</style>\n\t"}var serializeArray=async t=>{var e={};const n=Array.prototype.slice.call(t.elements);for(let t=0;t<n.length;t++){var r=n[t];if(!(!r.name||r.disabled||["reset","submit","button"].indexOf(r.type)>-1))if("select-multiple"===r.type)Array.prototype.slice.call(r.options).forEach(function(t){t.selected&&(e[r.name]=t.value)});else{if("file"==r.type){var i=await uploadFile(r);console.log(i),e[r.name]=i;continue}["checkbox","radio"].indexOf(r.type)>-1&&!r.checked||(e[r.name]=r.value)}}return console.log(e),e},uploadFile=async function(t){showSnackbarWithPromise(2,"Uploading...");var e=new Headers,n=new FormData;n.append("files",t.files[0],t.files[0].name);var r={method:"POST",headers:e,body:n,redirect:"follow"},i=await fetch("https://file.kuikform.com/upload/",r);return(await i.json()).files[0]};function toggleSnackbar(t,e){snackBarActive||(snackBarActive=!0,showSnackbarWithPromise(t,e).then(setTimeout(()=>{console.log("Snackbar openeed"),hideSnackbarWihPromise().then(()=>{snackBarActive=!1,console.log("Snackbar Closed")})},3e3)))}function showSnackbarWithPromise(t,e){return new Promise((n,r)=>{0==t?(kuikformSnackBar.classList.remove("kuikform-success"),kuikformSnackBar.classList.remove("kuikform-loading"),kuikformSnackBar.classList.add("kuikform-failed")):1==t?(kuikformSnackBar.classList.remove("kuikform-failed"),kuikformSnackBar.classList.remove("kuikform-loading"),kuikformSnackBar.classList.add("kuikform-success")):2==t&&(kuikformSnackBar.classList.remove("kuikform-failed"),kuikformSnackBar.classList.remove("kuikform-success"),kuikformSnackBar.classList.add("kuikform-loading")),kuikformStatusText.innerHTML=e,kuikformSnackBarWrapper.style.display="inline-block",setTimeout(()=>{kuikformSnackBarWrapper.style.opacity=1,kuikformSnackBarWrapper.style.top="90vh",n()},10)})}function hideSnackbarWihPromise(){return new Promise((t,e)=>{kuikformSnackBarWrapper.style.opacity=0,kuikformSnackBarWrapper.style.top="110vh",setTimeout(()=>{kuikformSnackBarWrapper.style.display="none",t()},500)})}window.onload=(()=>{initPlugin()});